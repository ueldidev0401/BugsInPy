diff --git a/thefuck/rules/apt_get.py b/thefuck/rules/apt_get.py
index 1b72718..7dc306f 100644
--- a/thefuck/rules/apt_get.py
+++ b/thefuck/rules/apt_get.py
@@ -1,27 +1,30 @@
 from thefuck import shells
-from thefuck.utils import sudo_support
+from thefuck.utils import memoize
 
 try:
     import CommandNotFound
 except ImportError:
     enabled_by_default = False
 
-@sudo_support
+
+@memoize
+def get_package(command):
+    try:
+        c = CommandNotFound.CommandNotFound()
+        cmd = command.split(' ')
+        pkgs = c.getPackages(cmd[0] if cmd[0] != 'sudo' else cmd[1])
+        name, _ = pkgs[0]
+        return name
+    except IndexError:
+        # IndexError is thrown when no matching package is found
+        return None
+
+
 def match(command, settings):
-    if 'not found' in command.stderr:
-        try:
-            c = CommandNotFound.CommandNotFound()
-            pkgs = c.getPackages(command.script.split(" ")[0])
-            name, _ = pkgs[0]
-            return True
-        except IndexError:
-            # IndexError is thrown when no matching package is found
-            return False
+    return 'not found' in command.stderr and get_package(command.script)
+
 
-@sudo_support
 def get_new_command(command, settings):
-    c = CommandNotFound.CommandNotFound()
-    pkgs = c.getPackages(command.script.split(" ")[0])
-    name, _ = pkgs[0]
+    name = get_package(command.script)
     formatme = shells.and_('sudo apt-get install {}', '{}')
     return formatme.format(name, command.script)
